<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Friends Chat</title>
<style>
body { font-family:sans-serif; background:#0a0a0a; color:#eee; text-align:center; padding:20px; }
#chat { border:1px solid #444; padding:10px; max-width:600px; margin:auto; height:400px; overflow-y:auto; text-align:left; background:#111; }
textarea { width:80%; height:50px; background:#222; color:#fff; border:1px solid #555; padding:5px; }
button { padding:10px; margin:10px; background:#0ff; border:none; cursor:pointer; }
.user { color:#0f0; margin:5px 0; }
.friend { color:#0ff; margin:5px 0; }
</style>
</head>
<body>
<h1>âš¡ Friends Chat</h1>
<div id="chat"></div>
<textarea id="msg" placeholder="Type a message..."></textarea><br>
<button onclick="send()">Send</button>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
// === CONFIGURE FIREBASE ===
// Replace this with your Firebase project config (free to create)
const firebaseConfig = {
  apiKey: "AIzaSyCSh6K8e_CAswGyYuIvgMVKZ3T8b5gGKFU",
  authDomain: "hyphonchat.firebaseapp.com",
  databaseURL: "https://hyphonchat-default-rtdb.firebaseio.com", // your link
  projectId: "hyphonchat",
  storageBucket: "hyphonchat.firebasestorage.app",
  messagingSenderId: "172774813412",
  appId: "1:172774813412:web:8d307b6a170bf270cfc6f1"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Random username
const usernames = ["Neo","Pixel","Glitch","Cipher","Echo","Nova","Vortex","Shadow","Blip","Spark",
                   "Quantum","Frost","Byte","Laser","Pulse","Zen","Orbit","Drift","Flux","Arc"];
const myName = usernames[Math.floor(Math.random()*usernames.length)];

const chatDiv = document.getElementById("chat");

// Listen for new messages
db.ref("messages").on("child_added", snap => {
  const data = snap.val();
  addLine(data.user + ": " + data.text, data.user===myName?"user":"friend");
});

function addLine(text, cls){
  const div = document.createElement("div");
  div.className = cls;
  div.textContent = text;
  chatDiv.appendChild(div);
  chatDiv.scrollTop = 99999;
}

function send(){
  const msg = document.getElementById("msg").value;
  if(!msg.trim()) return;
  db.ref("messages").push({ user: myName, text: msg });
  document.getElementById("msg").value = "";
}
</script>
</body>
</html>
